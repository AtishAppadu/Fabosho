<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Poppins:wght@200;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="login.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
   
    <!-- Javascript SDK -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="/path/to/amazon-cognito-identity.min.js"></script>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.7.16.min.js"></script>
    <script src="/path/to/amazon-cognito-auth.min.js"></script>
    <script src="/config.js"></script>


    <script src="script.js">
    </script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FABOSHO LOGIN</title>

</head>

<body>
    <div class="login-card-container">
        <div class="login-card">
            <div class="login-card-logo">
                <img src="/images/Faboshoshort.svg" alt="Logo">
            </div>
            <div class="login-card-header">
                <h1>Log in</h1>
                <div> Please log in to use the platform</div>
            </div>
            <form class="login-card-form">
                <div class="form-item">
                    <span class="form-item-icon material-symbols-rounded">mail</span>
                    <input type="text" placeholder="Enter Email" id="emailId" required autofocus>
                </div>
                <div class="form-item">
                    <span class="form-item-icon material-symbols-rounded">lock</span>
                    <input type="password" placeholder="Enter Password" id="passwordId" required>
                </div>
                <div class="form-item-other">
                    <div class="checkbox">
                        <input type="checkbox" id="rememberMeCheckbox">
                        <label for="rememberMeCheckbox">Remember Me</label>
                    </div>
                    <a href="#">I forgot my password</a>
                </div>
                <button id="mainbutton" onclick="loginButton()" type="submit"> Log in </button>
            </form>
            <div class="login-card-footer">
                Don't have an account? <a href="#">Create an account</a>.
            </div>
        </div>
        <div class="login-card-social">
            <div> Log in using other Platforms</div>
            <div class="login-card-social-btn">
                <a href="https://en-gb.facebook.com/">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-facebook" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3" />
                      </svg>
                </a>
                <a href="https://myaccount.google.com/?utm_source=sign_in_no_continue&pli=1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-google" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M17.788 5.108a9 9 0 1 0 3.212 6.892h-8" />
                      </svg>
                </a>
            </div>
        </div>
    </div>


    <script>

        var email;
        var password;
        var poolData;

        function loginButton() {

            email = document.getElementById("emailId").value;
            password = document.getElementById("passwordId").value;
            poolData = {
                UserPoolId: _config.cognito.userPoolId,
                ClientId: _config.cognito.userPoolClientId
            };
            var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);
            var authenticationData = {
                Username: email,
                Password: password,
            };
            var authenticationDetails = new AmazonCognitoIdentity.AuthenticationDetails(authenticationData);
            var userData = {
                Username: email,
                Pool: userPool
            };
            var cognitoUser = new AmazonCognitoIdentity.CognitoUser(userData);
            cognitoUser.authenticateUser(authenticationDetails, {
                onSuccess: function (result) {
                    console.log('access token + ' + result.getAccessToken().getJwtToken());
                    console.log('id token + ' + result.getIdToken().getJwtToken());
                    console.log('refresh token + ' + result.getRefreshToken().getToken());
                    window.location.href = "https://www.google.com";
                },
                onFailure: function (err) {
                    alert(err.message || JSON.stringify(err));
                },
            });
        }

        function forgotPassword() {
            email = document.getElementById("emailId").value;
            poolData = {
                UserPoolId: _config.cognito.userPoolId,
                ClientId: _config.cognito.userPoolClientId
            };
            var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);
            var userData = {
                Username: email,
                Pool: userPool
            };
            var cognitoUser = new AmazonCognitoIdentity.CognitoUser(userData);
            cognitoUser.forgotPassword({
                onSuccess: function (result) {
                    console.log('call result: ' + result);
                },
                onFailure: function (err) {
                    alert(err.message || JSON.stringify(err));
                },
                inputVerificationCode() {
                    var verificationCode = prompt('Please input verification code ' , '');
                    var newPassword = prompt('Enter new password ' , '');
                    cognitoUser.confirmPassword(verificationCode, newPassword, this);
                }
            });
        }




    </script>
</body>

</html>